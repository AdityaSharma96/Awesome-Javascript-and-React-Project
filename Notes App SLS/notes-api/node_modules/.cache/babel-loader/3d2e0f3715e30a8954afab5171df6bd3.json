{"ast":null,"code":"import \"source-map-support/register\";\nexport default function handler(lambda) {\n  return function (event, context) {\n    return Promise.resolve() // Run the Lambda\n    .then(() => lambda(event, context)) // On success\n    .then(responseBody => [200, responseBody]) // On failure\n    .catch(e => {\n      return [500, {\n        error: e.message\n      }];\n    }) // Return HTTP response\n    .then(([statusCode, body]) => ({\n      statusCode,\n      headers: {\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Credentials\": true\n      },\n      body: JSON.stringify(body)\n    }));\n  };\n}","map":{"version":3,"sources":["/home/yash/Documents/notes-app-api/libs/handler-lib.js"],"names":["handler","lambda","event","context","Promise","resolve","then","responseBody","catch","e","error","message","statusCode","body","headers","JSON","stringify"],"mappings":";AAAA,eAAe,SAASA,OAAT,CAAiBC,MAAjB,EAAyB;AACpC,SAAO,UAAUC,KAAV,EAAiBC,OAAjB,EAA0B;AACjC,WAAOC,OAAO,CAACC,OAAR,GACP;AADO,KAENC,IAFM,CAED,MAAML,MAAM,CAACC,KAAD,EAAQC,OAAR,CAFX,EAGP;AAHO,KAING,IAJM,CAIAC,YAAD,IAAkB,CAAC,GAAD,EAAMA,YAAN,CAJjB,EAKP;AALO,KAMNC,KANM,CAMCC,CAAD,IAAO;AACd,aAAO,CAAC,GAAD,EAAM;AAAEC,QAAAA,KAAK,EAAED,CAAC,CAACE;AAAX,OAAN,CAAP;AACC,KARM,EASP;AATO,KAUNL,IAVM,CAUD,CAAC,CAACM,UAAD,EAAaC,IAAb,CAAD,MAAyB;AAC/BD,MAAAA,UAD+B;AAE/BE,MAAAA,OAAO,EAAE;AACT,uCAA+B,GADtB;AAET,4CAAoC;AAF3B,OAFsB;AAM/BD,MAAAA,IAAI,EAAEE,IAAI,CAACC,SAAL,CAAeH,IAAf;AANyB,KAAzB,CAVC,CAAP;AAkBC,GAnBD;AAoBC","sourcesContent":["export default function handler(lambda) {\n    return function (event, context) {\n    return Promise.resolve()\n    // Run the Lambda\n    .then(() => lambda(event, context))\n    // On success\n    .then((responseBody) => [200, responseBody])\n    // On failure\n    .catch((e) => {\n    return [500, { error: e.message }];\n    })\n    // Return HTTP response\n    .then(([statusCode, body]) => ({\n    statusCode,\n    headers: {\n    \"Access-Control-Allow-Origin\": \"*\",\n    \"Access-Control-Allow-Credentials\": true,\n    },\n    body: JSON.stringify(body),\n    }));\n    };\n    }"]},"metadata":{},"sourceType":"module"}